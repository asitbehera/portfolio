<html lang="en">
    <head>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1">
        <title>FentyBeauty Preference Center</title>
        <meta charset="utf-8">
        <!-- Scripts -->
        <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf" />xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
        <script src="assets/scripts/LtkResize.min.js"></script>
        <script src="assets/scripts/gp.js"></script>
        <!-- Styles -->
        <link href="//www.fentybeauty.com/on/demandware.static/Sites-FENTY-Site/-/default/dwc680c7be/images/favicon.ico" rel="shortcut icon" />
        <link href="assets/css/STYLE.min.css" rel="stylesheet" type="text/css" media="all">
        <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    </head>
    <body>
        <div id="wrapper">
            <form id="OptDownForm" method="POST" action="//g001.enterprise.ipost.com/forms.cgi">
                <input type="hidden" name="client_token" value="fentybeauty">
                <input type="hidden" name="subscribe" value="optout" id="subscribe">
                <input type="hidden" name="success_url" value="https://g001.enterprise.ipost.com/client/fentybeauty/lookfeel/optout_success.html" id="success_url" />
                <input type="hidden" name="error_url" value="https://g001.enterprise.ipost.com/client/fentybeauty/lookfeel/optout_error.html" />
                                        <div class="fenty-logo">
                            <img alt="Fenty-logo" src="assets/img/fenty-beauty-tab-logo-large.gif" />
                        </div>
                <div id="pref-center-wrapper" class="ltk-clearfix">

                    <div class="ltk-pref-content ltk-clearfix">
                        <div class="ltk-clearfix">
                            <h2>HOW MUCH FENTY BEAUTY DO YOU WANT IN YOUR LIFE? YOU CALL THE&nbsp;SHOTS.</h2>
                            <p>Tell us how often you'd like to receive emails from us.</p>
                            <input type="hidden" name="email_addr" id="email-field" value="">
                        </div>
                        <div class="grid row ltk-clearfix">
                            <div class="col-1">
                                <div class="option radio ltk-clearfix">
                                    <input required="" id="radio-opt1" tabindex="1" type="radio" name="Frequency" value="1">
                                    <label for="radio-opt1"><span>Keep them coming! I want to stay posted on everything <br class="hide">
product drops, limited offers and more).</span></label>
                                </div>
                            </div>
                            <div class="col-1">
                                <div class="option radio ltk-clearfix">
                                    <input required="" id="radio-opt2" tabindex="2" type="radio" name="Frequency" value="30">
                                    <label for="radio-opt2"><span>Once a month</span></label>
                                </div>
                            </div>
                            <div class="col-1">
                                <div class="option radio ltk-clearfix">
                                    <input required="" id="radio-optout" tabindex="3" type="radio" name="Frequency" value="0">
                                    <label for="radio-optout"><span>Only send me status updates when I place an online order <br class="hide">
unsubscribe me from everything else)</span></label>
                                    <div class="ltk-error-message">
                                        <span>Please Choose an Option</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="button">
                            <div class="footer-button">
                                <input type="submit" tabindex="4" value="SAVE" title="SAVE">
                            </div>
                        </div>
                        <!-- Radio Opt-Down Option END -->
                    </div>
                </div><!-- End #pref-center-wrapper -->
            </form>
        </div>

        <script src="assets/scripts/functionality.min.js"></script>
        <script src="assets/scripts/SCRIPTS.min.js"></script>
        <script>
            (function () {
                function dispatch(name, data) {
                    if (document.dispatchEvent) {
                        var customEvent = new CustomEvent("ltk_" + name, obj);
                        customEvent.EventArgs = data;
                        document.dispatchEvent(customEvent);
                    }
                }
                //handle validation    
                var elements = document.querySelectorAll("input,select");
                var forms = document.querySelectorAll("form");
                var invalidClassName = " ltkinputnotvalid";
                var AddClassToElement = function (elem, cls) { elem.className += cls; }
                var RemoveClassFromElement = function (elem, cls) { elem.className = elem.className.replace(cls, ""); }
                var ElementHasClass = function (elem, cls) { return elem.className.indexOf(cls) > -1; }
                for (var i = 0; i < elements.length; i++) {
                    var element = elements[i];
                    element.addEventListener("invalid", function (e) {
                        if (!e.target.validity.valid) {
                            AddClassToElement(e.target, invalidClassName);
                            if (ElementHasClass(e.target.parentNode, "dropdown"))
                                AddClassToElement(e.target.parentNode, invalidClassName);
                        }
                    });
                    element.addEventListener("change", function (e) {
                        RemoveClassFromElement(e.target, invalidClassName);
                        if (ElementHasClass(e.target.parentNode, "dropdown"))
                            RemoveClassFromElement(e.target.parentNode, invalidClassName);
                    });
                }
                for (var j = 0; j < forms.length; j++) {
                    var form = forms[j];
                    form.noValidate = true;
                    form.addEventListener("submit", function (event) {
                        if (!event.target.checkValidity()) {
                            event.preventDefault();
                        } else {
                      document.getElementById('email-field').value=decodeURIComponent(window.location.hash.substring(1));;
                      if (document.getElementById('radio-opt1').checked  || document.getElementById('radio-opt2').checked) {
                      document.getElementById('success_url').value='https://g001.enterprise.ipost.com/client/fentybeauty/lookfeel/preference_success.html';
                          document.getElementById('subscribe').value='optin';
                      } else {
                          document.getElementById('subscribe').value='optout';
                      document.getElementById('success_url').value='https://g001.enterprise.ipost.com/client/fentybeauty/lookfeel/optout_success.html';
                      }
                      var i = document.createElement('input');
                      i.type='hidden';
                      i.id='email_frequency_limit';
                      i.name='email_frequency_limit';
                      if (document.getElementById('radio-opt2').checked) {
                        i.value = 30;
                      } else {
                    i.value = "";
                      }		  
                      form.appendChild(i);
                    }
                    });
                }
            })();</script>
    </body>
</html>