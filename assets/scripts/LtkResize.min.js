!function(){function e(){}var t="1.1";e.prototype.Init=function(){console.log("woot"),$(document).on("ltkResize",function(){console.log("ltkResize2"),e.prototype.postHeight()}),document.addEventListener("ltkResize",function(){console.log("ltkResize"),e.prototype.postHeight()}),window.addEventListener("resize",function(){console.log("IFrameToolBox.resize"),e.prototype.postHeight()}),window.addEventListener("load",function(){console.log("IFrameToolBox.load 2"),e.prototype.postReload()});for(var t=document.querySelectorAll("input"),o=0;o<t.length;o++)t[o].addEventListener("invalid",function(t){t.target.validity.valid||(console.log("Validation Resize"),e.prototype.postHeight())})},e.prototype.getCookie=function(e){return e=e.trim(),document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),decodeURIComponent(document.cookie.substring(c_start,c_end))):""},e.prototype.setCookie=function(e,t,o,n,i,r){var s=[e.trim()+"="+encodeURIComponent(t)];if("undefined"!=typeof o&&null!=o){var c=o;o instanceof Date||(c=new Date,c.setDate(c.getDate()+o)),s.push("expires="+c.toGMTString())}"undefined"!=typeof n&&null!=n&&s.push("domain="+n),"undefined"!=typeof i&&null!=i&&s.push("path="+i),"undefined"!=typeof r&&r&&s.push("secure");var p=s.join("; ");document.cookie=p},e.prototype.getRefUrl=function(){var e=this.getqs("refUrl","");return""!==e?this.setCookie("refUrl",e):e=this.getCookie("refUrl"),decodeURIComponent(e)},e.prototype.getqs=function(e,t){null==t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=o.exec(window.location.href);return null==n?t:n[1]},e.prototype.postReload=function(){this.postHeight(),this.postToParent('{"reload":"0,0"}')},e.prototype.postHeight=function(){var e=document.body,t=document.documentElement,o=(Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),document.getElementById("wrapper")),n=o.offsetHeight+30;this.postToParent('{"height":'+n+"}")},e.prototype.postToParent=function(e){""!==this.getRefUrl()&&parent.postMessage(e,this.getRefUrl())},HTMLElement.prototype.appendClickEvent=function(e){"function"==typeof e&&(this.addEventListener?this.addEventListener("click",e):this.attachEvent("onclick",e))},HTMLElement.prototype.appendEvent=function(e,t){"function"==typeof t&&(this.addEventListener?this.addEventListener(e,t):this.attachEvent("on"+e,t))};var o=new e;o.Init(),console.log("iFrameResize v:"+t)}();