$(document).ready(function(){function e(){$("a.nav-opener").click(function(){$("div.nav").toggleClass("open")})}function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function t(e){var n=e.lastIndexOf("/")+1,t=e.substr(n),r=t.split(".")[0];return""!==r?r=r:"index"}function r(){return!!$("form").length&&$("form")}function o(){return!!$("#OptDownForm").length&&$("#OptDownForm")}function l(e){if(e)var n="?email="+encodeURIComponent(a)+"&u=1";else var n="optdown.html?email="+encodeURIComponent(a);window.location.href=n}function i(){var e=n("ltkSubKey").length>0;document.getElementsByClassName("pre-check");(d.value.length<1||"@"===d.value.charAt(0)||e)&&$(".pre-checked").prop("checked",!0)}var a,u=window.location.pathname,c=t(u),d=document.getElementById("email-field");"index"==c?(a=d.value,i()):"optdown"==c&&(a=d.value,i()),e(),$("#OptdownOption").click(function(e){e.preventDefault(),a=d.value;var n=$(d)[0].checkValidity();n!==!1?l(!0):console.log("unsub false")}),$("#UnsubscribeOption").click(function(e){e.preventDefault(),a=d.value;var n=$(d)[0].checkValidity();n!==!1?l(!0):console.log("unsub false")});var s=o();if(s!==!1){var v=n("email");if(!v)return!1;$("#email-field").val(decodeURIComponent(v))}if(jQuery("#PhoneNumber").length){var p=jQuery("#PhoneNumber"),f=jQuery("#PhoneExpandTarget");console.log("SMS Available"),""!==jQuery(p).val()&&(jQuery(p).attr("required","required"),jQuery(f).slideToggle(0,function(){jQuery(document).trigger("ltkResize")})),jQuery("#SMSOptIn").click(function(){jQuery(p).is(":visible")?jQuery(p).removeAttr("required").removeClass("ltkinputnotvalid").val(""):jQuery(p).attr("required","required"),jQuery(f).slideToggle(200,function(){jQuery(document).trigger("ltkResize")})}),jQuery(p).ready(function(){jQuery.getScript("https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.1/jquery.inputmask.bundle.js",function(){jQuery(p).inputmask({greedy:!1,showMaskOnHover:!1,definitions:{"#":{validator:"[0-9]",cardinality:1}}}),console.log("Input Mask Loaded")})})}else console.log("SMS Not Available");var m=r();m!==!1&&document.querySelector("form").addEventListener("invalid",function(e){e.preventDefault()},!0),$(".build-date").on("change",function(){var e=!1;$(".build-date").each(function(){""!=$(this).val()&&(e=!0)}),e?$(".build-date").attr("required",!0):($(".build-date").attr("required",!1).removeClass("ltkinputnotvalid"),$(".dropdown").removeClass("ltkinputnotvalid"))})});